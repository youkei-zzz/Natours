{"mappings":"AEAO,MAAM,yCAAS,GAAG,IAAI;IAC3B,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,AAAC;IAC5C,IAAG,EAAE,EACH,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;CAEpC;AACM,MAAM,yCAAS,GAAI,CAAC,IAAI,EAAE,OAAO,GAAK;IAC3C,MAAM,MAAM,GAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;IAC3C,MAAM,CAAC,SAAS,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACzC,MAAM,CAAC,SAAS,GAAG,OAAO;IAC1B,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAC3E,MAAM,CAAC,UAAU,CAAC,yCAAS,EAAE,IAAI,CAAC,CAAC;CACpC;;ADZD;AAEO,MAAM,yCAAK,GAAG,OAAO,KAAK,EAAE,QAAQ,GAAK;IAC5C,MAAM,IAAI,GAAG,IAAI,cAAc,EAAE,AAAC;IAClC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,0CAA0C,CAAC,CAAC;IAC9D,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;IAC3E,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjD,IAAI,CAAC,kBAAkB,GAAG,WAAY;QAClC,IAAI,IAAI,CAAC,UAAU,KAAK,CAAC;YACrB,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE;gBAC1C,CAAA,GAAA,yCAAS,CAAA,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;gBAChD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;aAC9B,MACG,CAAA,GAAA,yCAAS,CAAA,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC;SAEjE;KACJ,CAAC;CACL,AAAC;AAEK,MAAM,yCAAM,GAAG,IAAM;IACxB,MAAM,IAAI,GAAG,IAAI,cAAc,EAAE,AAAC;IAClC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,2CAA2C,CAAC,CAAC;IAC9D,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;IAC3E,IAAI,CAAC,IAAI,EAAE,CAAC;IACZ,IAAI,CAAC,kBAAkB,GAAG,WAAY;QAClC,IAAI,IAAI,CAAC,UAAU,KAAK,CAAC;YACrB,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE;gBAC1C,CAAA,GAAA,yCAAS,CAAA,CAAC,SAAS,EAAE,0BAA0B,CAAC,CAAC;gBACjD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG;aAC7B,MACG,CAAA,GAAA,yCAAS,CAAA,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC;SAEjE;KACJ,CAAC;CACL,AAAC;;ADlCF;AGAA,IAAA,wCA6CE,GA7Ca,CAAA,SAAS,GAAI;IAC3B,QAAQ,CAAC,WAAW,GACnB,wFAAwF,CAAC;IAC1F,IAAI,GAAG,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC;QAC1B,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,oCAAoC;QAC3C,UAAU,EAAE,KAAK;QACjB,IAAI,EAAE,GAAG;KACT,CAAC,AAAC;IAEH,MAAM,MAAM,GAAG,IAAI,QAAQ,CAAC,YAAY,EAAE,AAAC;IAE3C,SAAS,CAAC,OAAO,CAAC,CAAA,GAAG,GAAI;QACxB,kBAAkB;QAClB,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,AAAC;QACzC,EAAE,CAAC,SAAS,GAAG,QAAQ,CAAC;QAExB,iBAAiB;QACjB,IAAI,QAAQ,CAAC,MAAM,CAAC;YACnB,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,QAAQ;SAChB,CAAC,CACA,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAC1B,KAAK,CAAC,GAAG,CAAC,CAAC;QAEb,YAAY;QACZ,IAAI,QAAQ,CAAC,KAAK,CAAC;YAClB,MAAM,EAAE,EAAE;SACV,CAAC,CACA,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAC1B,OAAO,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CACpD,KAAK,CAAC,GAAG,CAAC,CAAC;QAEb,gDAAgD;QAChD,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;KAC/B,CAAC,CAAC;IAEH,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;QACrB,OAAO,EAAE;YACR,GAAG,EAAE,GAAG;YACR,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,EAAE;SACT;KACD,CAAC,CAAC;CACH;;;AC7CD;IAEA,wCAcE,GAda,CAAC,IAAI,EAAE,KAAK,GAAK;IAC/B,MAAM,IAAI,GAAG,IAAI,cAAc,EAAE,AAAC;IAClC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,6CAA6C,CAAC,CAAC;IAClE,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;IAC3E,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;IACzC,IAAI,CAAC,kBAAkB,GAAG,WAAY;QACrC,IAAI,IAAI,CAAC,UAAU,KAAK,CAAC;YACxB,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,EAC3C,CAAA,GAAA,yCAAS,CAAA,CAAC,SAAS,EAAE,wBAAwB,CAAC,CAAC;iBAE/C,CAAA,GAAA,yCAAS,CAAA,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC;SAE3D;KACD,CAAC;CACF;;;AJZD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAE3B,MAAM,4BAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,AAAC;AAC9C,MAAM,+BAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,AAAC;AACzD,MAAM,kCAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,AAAC;AAChE,MAAM,kCAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,AAAC;AAE/D,IAAI,4BAAM,EAAE;IACR,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,4BAAM,CAAC,OAAO,CAAC,SAAS,CAAC,AAAC;IACvD,CAAA,GAAA,wCAAU,CAAA,CAAC,SAAS,CAAC,CAAC;CACzB;AAED,IAAI,+BAAS,EACT,+BAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAA,CAAC,GAAI;IACtC,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,AAAC;IACrD,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,AAAC;IAC3D,CAAA,GAAA,yCAAK,CAAA,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;CAC1B,CAAC,CAAC;AAGP,IAAI,kCAAY,EACZ,kCAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAA,CAAC,GAAI;IACxC,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,CAAA,GAAA,yCAAM,CAAA,EAAE,CAAC;CACZ,CAAC,CAAC;AAEP,IAAI,kCAAY,EACZ,kCAAY,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAA,CAAC,GAAI;IACzC,OAAO,CAAC,GAAG,CAAC,kDAAM,CAAC;IACnB,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,AAAC;IACrD,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAK,AAAC;IACnD,CAAA,GAAA,wCAAc,CAAA,CAAC,IAAI,EAAE,KAAK,CAAC;CAC9B,CAAC,CAAC","sources":["public/js/index.js","public/js/login.js","public/js/alert.js","public/js/mapbox.js","public/js/updateSettings.js"],"sourcesContent":["import {login, logout} from './login.js';\r\nimport displayMap from './mapbox.js';\r\nimport updateSettings from \"./updateSettings.js\";\r\n\r\nconsole.log('hello world');\r\n\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst logoutButton = document.querySelector('.nav__el--logout');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\n\r\nif (mapBox) {\r\n    const locations = JSON.parse(mapBox.dataset.locations);\r\n    displayMap(locations);\r\n}\r\n\r\nif (loginForm) {\r\n    loginForm.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('email').value;\r\n        const password = document.getElementById('password').value;\r\n        login(email, password);\r\n    });\r\n}\r\n\r\nif (logoutButton) {\r\n    logoutButton.addEventListener('click', e => {\r\n        e.preventDefault();\r\n        logout();\r\n    });\r\n}\r\nif (userDataForm) {\r\n    userDataForm.addEventListener('submit', e => {\r\n        console.log('ðŸ˜€ðŸ˜€ðŸ˜€ðŸ˜€')\r\n        e.preventDefault();\r\n        const email = document.getElementById('email').value;\r\n        const name = document.getElementById('name').value;\r\n        updateSettings(name, email)\r\n    });\r\n}\r\n","import {showAlert} from './alert.js';\r\n\r\nexport const login = async (email, password) => {\r\n    const ajax = new XMLHttpRequest();\r\n    ajax.open('POST', 'http://127.0.0.1:3000/api/v1/users/login');\r\n    ajax.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n    ajax.send(`email=${email}&password=${password}`);\r\n    ajax.onreadystatechange = function () {\r\n        if (ajax.readyState === 4) {\r\n            if (ajax.status === 200 && ajax.status < 300) {\r\n                showAlert('success', 'Logged in successfully!');\r\n                window.location.href = '/';\r\n            } else {\r\n                showAlert('error', JSON.parse(ajax.responseText).message);\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nexport const logout = () => {\r\n    const ajax = new XMLHttpRequest();\r\n    ajax.open('GET', 'http://127.0.0.1:3000/api/v1/users/logout');\r\n    ajax.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n    ajax.send();\r\n    ajax.onreadystatechange = function () {\r\n        if (ajax.readyState === 4) {\r\n            if (ajax.status === 200 && ajax.status < 300) {\r\n                showAlert('success', 'Logged out successfully!');\r\n                window.location.href = '/'\r\n            } else {\r\n                showAlert('error', JSON.parse(ajax.responseText).message);\r\n            }\r\n        }\r\n    };\r\n};\r\n","export const hideAlert = ()=>{\r\n  const el = document.querySelector('.alert');\r\n  if(el){\r\n    el.parentElement.removeChild(el);\r\n  }\r\n}\r\nexport const showAlert =  (type, message) => {\r\n  const markup =document.createElement('div')\r\n  markup.className = `alert alert--${type}`\r\n  markup.innerHTML = message\r\n  document.querySelector('body').insertAdjacentElement('afterbegin', markup);\r\n  window.setTimeout(hideAlert, 4000);\r\n}","export default locations => {\r\n\tmapboxgl.accessToken =\r\n\t\t'pk.eyJ1IjoieW91bmMiLCJhIjoiY2w4dmttNGg3MGVyeTNwbnplNHM3ang2bSJ9.-8F3B-715qLzIO7CW7hm3A';\r\n\tvar map = new mapboxgl.Map({\r\n\t\tcontainer: 'map',\r\n\t\tstyle: 'mapbox://styles/mapbox/streets-v11',\r\n\t\tscrollZoom: false,\r\n\t\tzoom: 0.8,\r\n\t});\r\n\r\n\tconst bounds = new mapboxgl.LngLatBounds();\r\n\r\n\tlocations.forEach(loc => {\r\n\t\t// create a Marker\r\n\t\tconst el = document.createElement('div');\r\n\t\tel.className = 'marker';\r\n\r\n\t\t// add the marker\r\n\t\tnew mapboxgl.Marker({\r\n\t\t\telement: el,\r\n\t\t\tanchor: 'bottom',\r\n\t\t})\r\n\t\t\t.setLngLat(loc.coordinates)\r\n\t\t\t.addTo(map);\r\n\r\n\t\t// Add popup\r\n\t\tnew mapboxgl.Popup({\r\n\t\t\toffset: 30,\r\n\t\t})\r\n\t\t\t.setLngLat(loc.coordinates)\r\n\t\t\t.setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n\t\t\t.addTo(map);\r\n\r\n\t\t// extend map bounds to include current location\r\n\t\tbounds.extend(loc.coordinates);\r\n\t});\r\n\r\n\tmap.fitBounds(bounds, {\r\n\t\tpadding: {\r\n\t\t\ttop: 200,\r\n\t\t\tbottom: 150,\r\n\t\t\tleft: 50,\r\n\t\t\tright: 50,\r\n\t\t},\r\n\t});\r\n};\r\n","import { showAlert } from './alert.js';\r\n\r\nexport default (name, email) => {\r\n\tconst ajax = new XMLHttpRequest();\r\n\tajax.open('PATCH', 'http://127.0.0.1:3000/api/v1/users/updateMe');\r\n\tajax.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\tajax.send(`name=${name}&email=${email}`);\r\n\tajax.onreadystatechange = function () {\r\n\t\tif (ajax.readyState === 4) {\r\n\t\t\tif (ajax.status === 200 && ajax.status < 400) {\r\n\t\t\t\tshowAlert('success', 'updating successfully!');\r\n\t\t\t} else {\r\n\t\t\t\tshowAlert('error', JSON.parse(ajax.responseText).message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}